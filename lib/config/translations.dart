import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
import '../services/language_service.dart';

class Translations {
  static const Map<String, Map<String, String>> _translations = {
    'fr': {
      'home_title': 'Bonjour',
      'driver_card': 'Je suis Conducteur',
      'driver_subtitle': 'Publier un trajet, partager les frais.',
      'passenger_card': 'Je suis Passager',
      'passenger_subtitle': 'Trouver un trajet vers l\'EST.',
      'settings_title': 'Paramètres',
      'dark_mode': 'Mode Sombre',
      'language': 'Langue',
      'logout': 'Se déconnecter',
      'logout_confirm': 'Voulez-vous vraiment se déconnecter ?',
      'logout_btn': 'Déconnecter',
      'cancel_btn': 'Annuler',
      'search_btn': 'Chercher',
      'edit_profile': 'Modifier mon profil',
      'notifications': 'Notifications',
      'contact_support': 'Contacter le support',
      'about': 'À propos',
      'general_section': 'Général',
      'appearance_section': 'Apparence',
      'profile_section': 'Profil',
      'support_section': 'Support',
      'confirm_journey': 'Confirmer le trajet',
      'publish_journey': 'Publier le trajet',
      'available_trips': 'Trajets Disponibles',
      'no_trips': 'Aucun trajet disponible pour le moment.',
      'save': 'Enregistrer',
      'name_field': 'Nom',
      'email_field': 'Email',
      'phone_field': 'Téléphone',
      'change_password': 'Changer mot de passe',
      'success': 'Succès',
      'profile': 'Mon Profil',
      'profile_updated': 'Profil mis à jour',
      'password_field': 'Mot de passe',
      'app_tagline': 'Covoiturage des étudiants',
      'login_welcome': 'Bienvenue',
      'login_subtitle': 'Connectez-vous pour continuer',
      'student_email': 'Email étudiant',
      'no_account': 'Pas encore de compte ?',
      'signup_title': 'Créer un compte',
      'signup_subtitle': 'Rejoignez la communauté EST',
      'full_name': 'Nom complet',
      'sign_up': 'S\'inscrire',
      'signup_success': 'Compte créé ! Connectez-vous.',
      'new_user': 'Nouveau',
      'error_fill_fields': 'Veuillez remplir tous les champs.',
      'error_email_domain': 'Veuillez utiliser votre email académique (@edu.uiz.ac.ma).',
      'login_error_generic': 'Une erreur est survenue.',
      'login_error_user_not_found': 'Aucun compte trouvé avec cet email.',
      'login_error_wrong_password': 'Mot de passe incorrect.',
      'login_error_invalid_email': 'L\'adresse email est invalide.',
      'login_error_too_many_requests': 'Trop de tentatives. Réessayez plus tard.',
      'signup_error_generic': 'Erreur d\'inscription.',
      'signup_error_email_in_use': 'Cet email est déjà utilisé.',
      'signup_error_weak_password': 'Mot de passe trop faible (min 6 caractères).',
      'signup_error_invalid_email': 'Email invalide.',
      'home_tab': 'Accueil',
      'home_stats': 'Statistiques',
      'login_btn': 'Se connecter',
      'email_hint': 'Email',
      'password_hint': 'Mot de passe',
      'register_link': 'Créer un compte',
      'my_activities': 'Mes Activités',
      'my_ads': 'Mes Annonces',
      'my_bookings': 'Mes Réservations',
      'edit': 'Modifier',
      'delete': 'Supprimer',
      'requests': 'Demandes',
      'cancel': 'Annuler',
      'discuss': 'Discuter',
      'accepted': 'Accepté',
      'rejected': 'Refusé',
      'pending': 'En attente',
      'departure': 'Départ',
      'arrival': 'Arrivée',
      'seats_available': 'P. Disp.',
      'full': 'COMPLET',
      'book': 'Réserver',
      'map_view': 'Voir Carte',
      'driver': 'Chauffeur',
      'unknown': 'Inconnu',
      'date': 'Date',
      'price': 'Prix',
      'seats': 'Places',
      'confirm_delete': 'Supprimer ?',
      'confirm_delete_msg': 'Voulez-vous vraiment supprimer ?',
      'no_requests': 'Aucune demande.',
      'no_bookings': 'Aucune réservation.',
      'confirm': 'Confirmer',
      'not_connected': 'Non connecté',
      'error_prefix': 'Erreur:',
      'error_not_connected': 'Vous devez être connecté.',
      'error_trip_missing_data': 'Erreur: Données du trajet manquantes.',
      'map_connection_error': 'Erreur connexion carte.',
      'gps_enable': 'Veuillez activer le GPS.',
      'location_permission_denied': 'Permission localisation refusée.',
      'location_permission_denied_forever': 'Permission localisation refusée. Activez-la dans les paramètres.',
      'location_unavailable': 'Impossible de récupérer la position.',
      'location_error': 'Erreur position:',
      'routing_error': 'Erreur de routage:',
      'osrm_connection_error': 'Erreur de connexion OSRM:',
      'trip_edit_title': 'Modifier le trajet',
      'trip_confirm_details': 'Confirmer les détails du trajet',
      'vehicle_type': 'Type de véhicule',
      'vehicle_car': 'Voiture',
      'vehicle_moto': 'Moto',
      'trip_price': 'Prix du trajet',
      'allowed_price': 'Prix autorisé',
      'trip_date_time': 'Date et heure du trajet',
      'seats_count': 'Nombre de sièges',
      'save_changes': 'Enregistrer les modifications',
      'trip_published_success': 'Trajet publié avec succès !',
      'trip_modified_success': 'Trajet modifié avec succès !',
      'propose_trip': 'Proposer un trajet',
      'confirm_changes': 'Confirmer les modifications',
      'confirm_departure': 'Confirmer le départ',
      'departure_point': 'Point de départ',
      'trip_to_est': 'Trajet vers EST',
      'book_this_trip': 'Réserver ce trajet',
      'ride_of': 'Trajet de',
      'date_unknown': 'Date inconnue',
      'date_error': 'Erreur date',
      'no_trips_nearby': 'Aucun trajet ne passe par votre position.',
      'try_move_closer': 'Essayez de vous rapprocher d\'une route principale.',
      'booking_requests': 'Demandes de réservation',
      'booking_request_sent': 'Demande envoyée ! Vérifiez "Mes Trajets".',
      'booking_already_exists': 'Vous avez déjà réservé ce trajet.',
      'booking_invalid_data': 'Données du trajet manquantes.',
      'booking_error_generic': 'Erreur de réservation.',
      'delete_ride_confirm': 'Voulez-vous supprimer ce trajet ?\nCela annulera toutes les réservations associées.',
      'ride_canceled_title': 'Trajet annulé',
      'ride_canceled_body': 'Le conducteur a annulé le trajet',
      'ride_deleted': 'Trajet supprimé.',
      'accept': 'Accepter',
      'reject': 'Refuser',
      'error_no_seats': 'Plus de places disponibles !',
      'error_request_processed': 'Demande déjà traitée.',
      'error_ride_not_found': 'Trajet introuvable.',
      'error_processing': 'Erreur traitement.',
      'booking_accepted_title': 'Réservation acceptée !',
      'booking_accepted_body': 'Le conducteur a accepté votre demande.',
      'booking_rejected_title': 'Réservation refusée',
      'booking_rejected_body': 'Le conducteur a refusé votre demande.',
      'cancel_booking_confirm': 'Voulez-vous vraiment annuler cette réservation ?\nLe conducteur sera notifié.',
      'cancel_request_confirm': 'Voulez-vous annuler cette demande ?',
      'back_btn': 'Retour',
      'passenger': 'Un passager',
      'booking_cancel_title': 'Annulation réservation',
      'booking_cancel_body': 'a annulé sa réservation.',
      'booking_deleted': 'Réservation annulée/supprimée.',
      'confirm_booking_title': 'Confirmer la réservation',
      'confirm_booking_message': 'Voulez-vous envoyer une demande de réservation au conducteur ?',
      'delete_message_confirm': 'Supprimer ce message pour tout le monde ?',
      'say_hello': 'Dites bonjour à',
      'write_message_hint': 'Écrire un message...',
      'action_impossible': 'Action impossible',
      'number_unavailable': 'Numéro non disponible',
      'new_message_title': 'Nouveau message',
      'user': 'Utilisateur',
      'rate': 'Noter',
      'rated': 'Déjà noté',
      'review_title': 'Donner une note',
      'review_hint': 'Votre commentaire (optionnel)',
      'submit_review': 'Envoyer',
      'review_submitted': 'Merci ! Votre avis a été enregistré.',
      'review_exists': 'Vous avez déjà noté ce trajet.',
      'review_error': 'Impossible d\'envoyer l\'avis.',
      'no_reviews': 'Pas encore d\'avis',
      'match_label': 'match',
      'report_user': 'Signaler',
      'report_reason': 'Motif',
      'report_reason_spam': 'Spam',
      'report_reason_abuse': 'Abus',
      'report_reason_fake_profile': 'Faux profil',
      'report_reason_other': 'Autre',
      'report_details_hint': 'Détails (optionnel)',
      'submit_report': 'Envoyer le signalement',
      'report_sent': 'Signalement envoyé. Merci.',
      'block_user': 'Bloquer cet utilisateur',
      'unblock_user': 'Débloquer cet utilisateur',
      'user_blocked_success': 'Utilisateur bloqué.',
      'user_unblocked_success': 'Utilisateur débloqué.',
      'blocked_chat_disabled': 'Discussion désactivée (utilisateur bloqué).',
      'blocked_action_unavailable': 'Action impossible: utilisateur bloqué.',
      'view_profile': 'Voir le profil',
      'rides_published': 'Trajets publiés',
      'accepted_bookings_count': 'Réservations acceptées',
      'recent_rides': 'Derniers trajets',
      'latest_reviews': 'Derniers avis',
      'filters': 'Filtres',
      'clear_filters': 'Réinitialiser',
      'filter_apply': 'Appliquer',
      'filter_all_dates': 'Toutes les dates',
      'filter_any_price': 'Tous les prix',
      'filter_any_seats': 'Toutes les places',
      'filter_all_status': 'Tous les statuts',
      'status_label': 'Statut',
      'filtered_empty': 'Aucun résultat avec ces filtres.',
      'filter_invalid_price': 'Prix invalide.',
      'profile_photo_updated': 'Photo de profil mise à jour et synchronisée !',
      'upload_error_prefix': 'Erreur upload:',
      'upload_error_not_found': 'Erreur: Le fichier n\'a pas été créé. Vérifiez vos Règles de Stockage Firebase.',
      'upload_error_permission': 'Erreur: Permission refusée. Vérifiez vos Règles de Stockage.',
      'name_empty_error': 'Le nom ne peut pas être vide',
      'password_min_hint': 'Min 6 caractères',
      'password_min_error': 'Le mot de passe doit contenir au moins 6 caractères',
      'password_changed': 'Mot de passe changé',
      'reauth_required': 'Veuillez vous reconnecter pour changer le mot de passe',
      'weak_password': 'Mot de passe trop faible',
      'notification_permission_denied': 'Permission refusée. Vérifiez les paramètres de votre téléphone.',
      'enabled': 'Activé',
      'disabled': 'Désactivé',
      'support_contact_message': 'Support: Envoyez un email à aitomghar26@gmail.com',
      'app_legalese': '© 2026 EST-Covoit. Tous droits réservés.',
      'about_description': 'EST-Covoit est une application de covoiturage conçue pour faciliter les trajets entre les étudiants et salariés. Partagez vos trajets, économisez, et contribuez à un transport plus écologique.',
    },
    'en': {
      'home_title': 'Hello',
      'driver_card': 'I am a Driver',
      'driver_subtitle': 'Publish a trip, share costs.',
      'passenger_card': 'I am a Passenger',
      'passenger_subtitle': 'Find a trip to EST.',
      'settings_title': 'Settings',
      'dark_mode': 'Dark Mode',
      'language': 'Language',
      'logout': 'Logout',
      'logout_confirm': 'Are you sure you want to logout?',
      'logout_btn': 'Logout',
      'cancel_btn': 'Cancel',
      'search_btn': 'Search',
      'edit_profile': 'Edit my profile',
      'notifications': 'Notifications',
      'contact_support': 'Contact Support',
      'about': 'About',
      'general_section': 'General',
      'appearance_section': 'Appearance',
      'profile_section': 'Profile',
      'support_section': 'Support',
      'confirm_journey': 'Confirm Journey',
      'publish_journey': 'Publish Journey',
      'available_trips': 'Available Trips',
      'no_trips': 'No trips available at the moment.',
      'save': 'Save',
      'name_field': 'Name',
      'email_field': 'Email',
      'phone_field': 'Phone',
      'change_password': 'Change Password',
      'success': 'Success',
      'profile': 'My Profile',
      'profile_updated': 'Profile Updated',
      'password_field': 'Password',
      'app_tagline': 'Student carpooling',
      'login_welcome': 'Welcome',
      'login_subtitle': 'Sign in to continue',
      'student_email': 'Student email',
      'no_account': 'No account yet?',
      'signup_title': 'Create an account',
      'signup_subtitle': 'Join the EST community',
      'full_name': 'Full name',
      'sign_up': 'Sign up',
      'signup_success': 'Account created! Please sign in.',
      'new_user': 'New',
      'error_fill_fields': 'Please fill in all fields.',
      'error_email_domain': 'Please use your academic email (@edu.uiz.ac.ma).',
      'login_error_generic': 'An error occurred.',
      'login_error_user_not_found': 'No account found with this email.',
      'login_error_wrong_password': 'Incorrect password.',
      'login_error_invalid_email': 'Invalid email address.',
      'login_error_too_many_requests': 'Too many attempts. Try again later.',
      'signup_error_generic': 'Sign up error.',
      'signup_error_email_in_use': 'This email is already in use.',
      'signup_error_weak_password': 'Password too weak (min 6 characters).',
      'signup_error_invalid_email': 'Invalid email.',
      'home_tab': 'Home',
      'home_stats': 'Stats',
      'login_btn': 'Login',
      'email_hint': 'Email',
      'password_hint': 'Password',
      'register_link': 'Create Account',
      'my_activities': 'My Activities',
      'my_ads': 'My Ads',
      'my_bookings': 'My Bookings',
      'edit': 'Edit',
      'delete': 'Delete',
      'requests': 'Requests',
      'cancel': 'Cancel',
      'discuss': 'Chat',
      'accepted': 'Accepted',
      'rejected': 'Rejected',
      'pending': 'Pending',
      'departure': 'Departure',
      'arrival': 'Arrival',
      'seats_available': 'Avail.',
      'full': 'FULL',
      'book': 'Book',
      'map_view': 'View Map',
      'driver': 'Driver',
      'unknown': 'Unknown',
      'date': 'Date',
      'price': 'Price',
      'seats': 'Seats',
      'confirm_delete': 'Delete?',
      'confirm_delete_msg': 'Are you sure?',
      'no_requests': 'No requests.',
      'no_bookings': 'No bookings.',
      'confirm': 'Confirm',
      'not_connected': 'Not connected',
      'error_prefix': 'Error:',
      'error_not_connected': 'You must be logged in.',
      'error_trip_missing_data': 'Error: Missing trip data.',
      'map_connection_error': 'Map connection error.',
      'gps_enable': 'Please enable GPS.',
      'location_permission_denied': 'Location permission denied.',
      'location_permission_denied_forever': 'Location permission denied. Enable it in settings.',
      'location_unavailable': 'Unable to retrieve location.',
      'location_error': 'Location error:',
      'routing_error': 'Routing error:',
      'osrm_connection_error': 'OSRM connection error:',
      'trip_edit_title': 'Edit trip',
      'trip_confirm_details': 'Confirm trip details',
      'vehicle_type': 'Vehicle type',
      'vehicle_car': 'Car',
      'vehicle_moto': 'Motorbike',
      'trip_price': 'Trip price',
      'allowed_price': 'Allowed price',
      'trip_date_time': 'Trip date & time',
      'seats_count': 'Number of seats',
      'save_changes': 'Save changes',
      'trip_published_success': 'Trip published successfully!',
      'trip_modified_success': 'Trip updated successfully!',
      'propose_trip': 'Propose a trip',
      'confirm_changes': 'Confirm changes',
      'confirm_departure': 'Confirm departure',
      'departure_point': 'Departure point',
      'trip_to_est': 'Trip to EST',
      'book_this_trip': 'Book this trip',
      'ride_of': 'Trip of',
      'date_unknown': 'Unknown date',
      'date_error': 'Date error',
      'no_trips_nearby': 'No trip passes near your position.',
      'try_move_closer': 'Try moving closer to a main road.',
      'booking_requests': 'Booking requests',
      'booking_request_sent': 'Request sent! Check "My Trips".',
      'booking_already_exists': 'You have already booked this trip.',
      'booking_invalid_data': 'Missing trip data.',
      'booking_error_generic': 'Booking error.',
      'delete_ride_confirm': 'Do you want to delete this trip?\nThis will cancel all associated bookings.',
      'ride_canceled_title': 'Trip canceled',
      'ride_canceled_body': 'The driver canceled the trip',
      'ride_deleted': 'Trip deleted.',
      'accept': 'Accept',
      'reject': 'Reject',
      'error_no_seats': 'No seats available!',
      'error_request_processed': 'Request already processed.',
      'error_ride_not_found': 'Trip not found.',
      'error_processing': 'Processing error.',
      'booking_accepted_title': 'Booking accepted!',
      'booking_accepted_body': 'The driver accepted your request.',
      'booking_rejected_title': 'Booking rejected',
      'booking_rejected_body': 'The driver rejected your request.',
      'cancel_booking_confirm': 'Do you really want to cancel this booking?\nThe driver will be notified.',
      'cancel_request_confirm': 'Do you want to cancel this request?',
      'back_btn': 'Back',
      'passenger': 'A passenger',
      'booking_cancel_title': 'Booking cancellation',
      'booking_cancel_body': 'has canceled the booking.',
      'booking_deleted': 'Booking canceled/deleted.',
      'confirm_booking_title': 'Confirm booking',
      'confirm_booking_message': 'Do you want to send a booking request to the driver?',
      'delete_message_confirm': 'Delete this message for everyone?',
      'say_hello': 'Say hello to',
      'write_message_hint': 'Write a message...',
      'action_impossible': 'Action not possible',
      'number_unavailable': 'Number not available',
      'new_message_title': 'New message',
      'user': 'User',
      'rate': 'Rate',
      'rated': 'Rated',
      'review_title': 'Leave a rating',
      'review_hint': 'Your comment (optional)',
      'submit_review': 'Submit',
      'review_submitted': 'Thanks! Your review has been saved.',
      'review_exists': 'You already rated this trip.',
      'review_error': 'Could not submit review.',
      'no_reviews': 'No reviews yet',
      'match_label': 'match',
      'report_user': 'Report user',
      'report_reason': 'Reason',
      'report_reason_spam': 'Spam',
      'report_reason_abuse': 'Abuse',
      'report_reason_fake_profile': 'Fake profile',
      'report_reason_other': 'Other',
      'report_details_hint': 'Details (optional)',
      'submit_report': 'Submit report',
      'report_sent': 'Report submitted. Thank you.',
      'block_user': 'Block user',
      'unblock_user': 'Unblock user',
      'user_blocked_success': 'User blocked.',
      'user_unblocked_success': 'User unblocked.',
      'blocked_chat_disabled': 'Chat disabled (blocked user).',
      'blocked_action_unavailable': 'Action unavailable: user is blocked.',
      'view_profile': 'View profile',
      'rides_published': 'Rides published',
      'accepted_bookings_count': 'Accepted bookings',
      'recent_rides': 'Recent rides',
      'latest_reviews': 'Latest reviews',
      'filters': 'Filters',
      'clear_filters': 'Clear',
      'filter_apply': 'Apply',
      'filter_all_dates': 'All dates',
      'filter_any_price': 'Any price',
      'filter_any_seats': 'Any seats',
      'filter_all_status': 'All statuses',
      'status_label': 'Status',
      'filtered_empty': 'No results with these filters.',
      'filter_invalid_price': 'Invalid price.',
      'profile_photo_updated': 'Profile photo updated and synced!',
      'upload_error_prefix': 'Upload error:',
      'upload_error_not_found': 'Error: The file wasn\'t created. Check your Firebase Storage rules.',
      'upload_error_permission': 'Error: Permission denied. Check your Storage rules.',
      'name_empty_error': 'Name cannot be empty',
      'password_min_hint': 'Min 6 characters',
      'password_min_error': 'Password must be at least 6 characters',
      'password_changed': 'Password changed',
      'reauth_required': 'Please sign in again to change your password',
      'weak_password': 'Password too weak',
      'notification_permission_denied': 'Permission denied. Check your phone settings.',
      'enabled': 'Enabled',
      'disabled': 'Disabled',
      'support_contact_message': 'Support: Send an email to aitomghar26@gmail.com',
      'app_legalese': '© 2026 EST-Covoit. All rights reserved.',
      'about_description': 'EST-Covoit is a carpooling app designed to make trips between students and employees easier. Share rides, save money, and contribute to greener transport.',
    },
    'darija': {
      'home_title': 'Ahlan',
      'driver_card': 'Ana Chiffour',
      'driver_subtitle': '3ndek tonobil? Partagi tri9.',
      'passenger_card': 'Ana Rakib',
      'passenger_subtitle': 'L9a transport l l\'EST.',
      'settings_title': 'Paramètres',
      'dark_mode': 'Mode K7el',
      'language': 'Logha',
      'logout': 'Khrouj',
      'logout_confirm': 'Baghi tkhrej?',
      'logout_btn': 'Khrouj',
      'cancel_btn': 'Rje3',
      'search_btn': '9elleb',
      'edit_profile': 'Beddel profil',
      'notifications': 'Notifs',
      'contact_support': 'Hder m3ana',
      'about': 'A propos',
      'general_section': 'Général',
      'appearance_section': 'Chkel',
      'profile_section': 'Profil',
      'support_section': 'Support',
      'confirm_journey': 'Confirmi Trajet',
      'publish_journey': 'Lou7 Trajet',
      'available_trips': 'Trajets 3la lah',
      'no_trips': 'Ma kayn walo db.',
      'save': 'Sjel',
      'name_field': 'Semya',
      'email_field': 'Email',
      'phone_field': 'Nemra',
      'change_password': 'Beddel l-code',
      'success': 'Nadi',
      'profile': 'Profil Dyali',
      'profile_updated': 'T\'mjoura Profil',
      'password_field': 'Mot de passe',
      'app_tagline': 'Covoiturage dyal etudiants',
      'login_welcome': 'Marhba',
      'login_subtitle': 'Dkhol bach tkml',
      'student_email': 'Email etudiant',
      'no_account': 'Mazal ma 3ndkch compte?',
      'signup_title': 'Sayeb compte',
      'signup_subtitle': 'Dkhol m3ana f communaute EST',
      'full_name': 'Smya kamla',
      'sign_up': 'Tssjil',
      'signup_success': 'Compte tnsna! Dkhol.',
      'new_user': 'Jdid',
      'error_fill_fields': '3mmer kolchi.',
      'error_email_domain': 'Khdem b email academique (@edu.uiz.ac.ma).',
      'login_error_generic': 'Kayn chi moshkil.',
      'login_error_user_not_found': 'Makin 7ta compte b had email.',
      'login_error_wrong_password': 'Mot de passe ghalat.',
      'login_error_invalid_email': 'Email ghalat.',
      'login_error_too_many_requests': 'Bzaf dyal lmharabat. 3awd mn b3d.',
      'signup_error_generic': 'Moshkil f tsjil.',
      'signup_error_email_in_use': 'Had email msta3mel.',
      'signup_error_weak_password': 'Mot de passe da3if (min 6).',
      'signup_error_invalid_email': 'Email ghalat.',
      'home_tab': 'Accueil',
      'home_stats': 'Ihsa2iyat',
      'login_btn': 'Dkhol',
      'email_hint': 'Email',
      'password_hint': 'Mot de passe',
      'register_link': 'Sayeb Compte',
      'my_activities': 'Activités Dyali',
      'my_ads': 'Anciat Dyali',
      'my_bookings': 'Reservationat',
      'edit': 'Beddel',
      'delete': 'Mse7',
      'requests': 'Talabat',
      'cancel': 'Annuler',
      'discuss': 'Chat',
      'accepted': 'Ma9boul',
      'rejected': 'Merfoud',
      'pending': 'Kitsena',
      'departure': 'Depart',
      'arrival': 'Woussoul',
      'seats_available': 'Blayss',
      'full': '3AMER',
      'book': 'Reserver',
      'map_view': 'Carte',
      'driver': 'Chiffour',
      'unknown': 'Ma3roufch',
      'date': 'Tarikh',
      'price': 'Taman',
      'seats': 'Blayess',
      'confirm_delete': 'Mse7?',
      'confirm_delete_msg': 'Wach bsse7 baghi tmes7o?',
      'no_requests': 'Walo talabat.',
      'no_bookings': 'Walo reservation.',
      'confirm': 'Confirmer',
      'not_connected': 'Machi mconnecti',
      'error_prefix': 'Khata:',
      'error_not_connected': 'Khassek tkon mconnecti.',
      'error_trip_missing_data': 'Khata: ma kaynach ma3lomat dyal trajet.',
      'map_connection_error': 'Khata f ttsal b lmap.',
      'gps_enable': '3afak t3el GPS.',
      'location_permission_denied': 'Rokhsa dyal localisation tmerfouda.',
      'location_permission_denied_forever': 'Rokhsa dyal localisation tmerfouda. Khassk t3tih f settings.',
      'location_unavailable': 'Ma9drnach njibo lposition.',
      'location_error': 'Khata position:',
      'routing_error': 'Khata dyal routage:',
      'osrm_connection_error': 'Khata f ttsal OSRM:',
      'trip_edit_title': 'Beddel trajet',
      'trip_confirm_details': '2akked detayet dyal trajet',
      'vehicle_type': 'No3 dyal tonobil',
      'vehicle_car': 'Tonobil',
      'vehicle_moto': 'Moto',
      'trip_price': 'Taman dyal trajet',
      'allowed_price': 'Taman msmou7',
      'trip_date_time': 'Tarikh w sa3a dyal trajet',
      'seats_count': '3adad dyal blayss',
      'save_changes': 'Sjel tbdilat',
      'trip_published_success': 'Trajet tnsna b nja7!',
      'trip_modified_success': 'Trajet tbedel b nja7!',
      'propose_trip': '9ddem trajet',
      'confirm_changes': '2akked tbdilat',
      'confirm_departure': '2akked depart',
      'departure_point': 'Point dyal depart',
      'trip_to_est': 'Trajet l EST',
      'book_this_trip': '7جز had trajet',
      'ride_of': 'Trajet dyal',
      'date_unknown': 'Tarikh ma3roufch',
      'date_error': 'Khata f tarikh',
      'no_trips_nearby': 'Ma kayn 7ta trajet 9rib l mkan dyalek.',
      'try_move_closer': '7awl tqrab l tari9 ra2isia.',
      'booking_requests': 'Talabat dyal reservation',
      'booking_request_sent': 'Talab tsift! Chouf "Mes Trajets".',
      'booking_already_exists': 'Rakezti had trajet qbel.',
      'booking_invalid_data': 'Ma kaynach ma3lomat dyal trajet.',
      'booking_error_generic': 'Khata f reservation.',
      'delete_ride_confirm': 'Baghi tmes7 had trajet?\nGhadi ttnssa l rezervations kamlin.',
      'ride_canceled_title': 'Trajet ttsana',
      'ride_canceled_body': 'Chiffour lgha trajet',
      'ride_deleted': 'Trajet tms7.',
      'accept': 'Qbel',
      'reject': 'Rfed',
      'error_no_seats': 'Ma ba9a 7ta blasa!',
      'error_request_processed': 'Talab ttsra b3da.',
      'error_ride_not_found': 'Trajet ma kaynch.',
      'error_processing': 'Khata f mo3alaja.',
      'booking_accepted_title': 'Reservation t9blat!',
      'booking_accepted_body': 'Chiffour 9bel talab dyalek.',
      'booking_rejected_title': 'Reservation trfd',
      'booking_rejected_body': 'Chiffour rfd talab dyalek.',
      'cancel_booking_confirm': 'Bghiti tghyir had reservation?\nChiffour ghadi it3ellem.',
      'cancel_request_confirm': 'Bghiti tghyir had talab?',
      'back_btn': 'Rje3',
      'passenger': 'Rakib',
      'booking_cancel_title': 'Ilgha dyal reservation',
      'booking_cancel_body': 'lgha reservation.',
      'booking_deleted': 'Reservation tلغات/تمسحات.',
      'confirm_booking_title': '2akked reservation',
      'confirm_booking_message': 'Bghiti tsift talab reservation l chiffour?',
      'delete_message_confirm': 'Tmes7 had msg l kolchi?',
      'say_hello': 'Sellem 3la',
      'write_message_hint': 'Ktib message...',
      'action_impossible': 'Ma ymknch',
      'number_unavailable': 'Nemra ma kaynach',
      'new_message_title': 'Message jdid',
      'user': 'Utilisateur',
      'rate': 'Qyem',
      'rated': 'Qyyemtih',
      'review_title': '3ti note',
      'review_hint': 'Comment dyalek (ikhtiyari)',
      'submit_review': 'Sift',
      'review_submitted': 'Shokran! ra2yak tsjjel.',
      'review_exists': 'Deja qyemti had trajet.',
      'review_error': 'Ma9drnach nsifto had ra2y.',
      'no_reviews': 'Mazal ma kayn ta ra2y',
      'match_label': 'match',
      'report_user': 'Signaler',
      'report_reason': 'Sabab',
      'report_reason_spam': 'Spam',
      'report_reason_abuse': 'Ihane',
      'report_reason_fake_profile': 'Profil mazwer',
      'report_reason_other': 'Akhor',
      'report_details_hint': 'Tafasil (ikhtiyari)',
      'submit_report': 'Sift signalement',
      'report_sent': 'Signalement tsift. Chokran.',
      'block_user': 'Blocki had user',
      'unblock_user': '7yed block',
      'user_blocked_success': 'User tblocka.',
      'user_unblocked_success': 'User t7yed men block.',
      'blocked_chat_disabled': 'Chat ma khdamch (user blocked).',
      'blocked_action_unavailable': 'Action ma momkinach: user blocked.',
      'view_profile': 'Chouf profil',
      'rides_published': 'Trajets li nchr',
      'accepted_bookings_count': 'Talabat m9boulin',
      'recent_rides': 'Akher trajets',
      'latest_reviews': 'Akher ta9yimat',
      'filters': 'Filtres',
      'clear_filters': 'Sfir',
      'filter_apply': 'Ttbe9',
      'filter_all_dates': 'Ga3 l-ayam',
      'filter_any_price': 'Ga3 taman',
      'filter_any_seats': 'Ga3 blayss',
      'filter_all_status': 'Ga3 l-halates',
      'status_label': '7ala',
      'filtered_empty': 'Ma kayn 7ta résultat b had filtres.',
      'filter_invalid_price': 'Taman ghalat.',
      'profile_photo_updated': 'Photo dyal profil tbdlat w tssynchrat!',
      'upload_error_prefix': 'Khata upload:',
      'upload_error_not_found': 'Khata: lfile ma tnsnch. Chouf qawa3id Firebase Storage.',
      'upload_error_permission': 'Khata: permission mrefouda. Chouf qawa3id Storage.',
      'name_empty_error': 'Smya ma t9drch tkun khawya',
      'password_min_hint': 'Min 6 huruf',
      'password_min_error': 'Mot de passe khasso ykun 6 huruf 3la lqel',
      'password_changed': 'Mot de passe tbedel',
      'reauth_required': '3afak 3awd dkhol bach tbedel mot de passe',
      'weak_password': 'Mot de passe da3if',
      'notification_permission_denied': 'Permission mrefouda. Chouf settings dyal tel.',
      'enabled': 'Mefa3el',
      'disabled': 'M3ttel',
      'support_contact_message': 'Support: sft email l aitomghar26@gmail.com',
      'app_legalese': '© 2026 EST-Covoit. Jami3 l7oqoq mahfouda.',
      'about_description': 'EST-Covoit app dyal covoiturage, katsahhel ttwassol bin etudiants w salariés. Partagi tri9, tqllal masarif, w t3awn 3la transport akhder.',
    },
    'ar': {
      'home_title': 'مرحبا',
      'driver_card': 'أنا سائق',
      'driver_subtitle': 'انشر رحلة، شارك التكاليف.',
      'passenger_card': 'أنا راكب',
      'passenger_subtitle': 'ابحث عن رحلة إلى EST.',
      'settings_title': 'الإعدادات',
      'dark_mode': 'الوضع المظلم',
      'language': 'اللغة',
      'logout': 'تسجيل الخروج',
      'logout_confirm': 'هل أنت متأكد أنك تريد تسجيل الخروج؟',
      'logout_btn': 'خروج',
      'cancel_btn': 'إلغاء',
      'search_btn': 'بحث',
      'edit_profile': 'تعديل الملف الشخصي',
      'notifications': 'الإشعارات',
      'contact_support': 'اتصل بالدعم',
      'about': 'حول التطبيق',
      'general_section': 'عام',
      'appearance_section': 'المظهر',
      'profile_section': 'الملف الشخصي',
      'support_section': 'الدعم والمساعدة',
      'confirm_journey': 'تأكيد الرحلة',
      'publish_journey': 'نشر الرحلة',
      'available_trips': 'الرحلات المتاحة',
      'no_trips': 'لا توجد رحلات متاحة حالياً.',
      'save': 'حفظ',
      'name_field': 'الاسم',
      'email_field': 'البريد الإلكتروني',
      'phone_field': 'الهاتف',
      'change_password': 'تغيير كلمة المرور',
      'success': 'تم بنجاح',
      'profile': 'ملفي الشخصي',
      'profile_updated': 'تم تحديث الملف الشخصي',
      'password_field': 'كلمة المرور',
      'app_tagline': 'مشاركة الركوب للطلبة',
      'login_welcome': 'مرحبا',
      'login_subtitle': 'سجل الدخول للمتابعة',
      'student_email': 'البريد الإلكتروني للطالب',
      'no_account': 'ليس لديك حساب؟',
      'signup_title': 'إنشاء حساب',
      'signup_subtitle': 'انضم إلى مجتمع EST',
      'full_name': 'الاسم الكامل',
      'sign_up': 'إنشاء حساب',
      'signup_success': 'تم إنشاء الحساب! سجل الدخول.',
      'new_user': 'جديد',
      'error_fill_fields': 'يرجى ملء جميع الحقول.',
      'error_email_domain': 'يرجى استخدام البريد الأكاديمي (@edu.uiz.ac.ma).',
      'login_error_generic': 'حدث خطأ.',
      'login_error_user_not_found': 'لا يوجد حساب بهذا البريد.',
      'login_error_wrong_password': 'كلمة المرور غير صحيحة.',
      'login_error_invalid_email': 'البريد الإلكتروني غير صالح.',
      'login_error_too_many_requests': 'محاولات كثيرة. حاول لاحقًا.',
      'signup_error_generic': 'خطأ في التسجيل.',
      'signup_error_email_in_use': 'هذا البريد مستخدم بالفعل.',
      'signup_error_weak_password': 'كلمة المرور ضعيفة (الحد الأدنى 6 أحرف).',
      'signup_error_invalid_email': 'البريد الإلكتروني غير صالح.',
      'home_tab': 'الرئيسية',
      'home_stats': 'إحصائيات',
      'login_btn': 'تسجيل الدخول',
      'email_hint': 'البريد الإلكتروني',
      'password_hint': 'كلمة المرور',
      'register_link': 'إنشاء حساب جديد',
      'my_activities': 'نشاطاتي',
      'my_ads': 'إعلاناتي',
      'my_bookings': 'حجوزاتي',
      'edit': 'تعديل',
      'delete': 'حذف',
      'requests': 'الطلبات',
      'cancel': 'إلغاء',
      'discuss': 'دردشة',
      'accepted': 'مقبول',
      'rejected': 'مرفوض',
      'pending': 'قيد الانتظار',
      'departure': 'الانطلاق',
      'arrival': 'الوصول',
      'seats_available': 'مقاعد',
      'full': 'ممتلئ',
      'book': 'حجز',
      'map_view': 'الخريطة',
      'driver': 'السائق',
      'unknown': 'مجهول',
      'date': 'التاريخ',
      'price': 'السعر',
      'seats': 'المقاعد',
      'confirm_delete': 'تأكيد الحذف؟',
      'confirm_delete_msg': 'هل أنت متأكد من الحذف؟',
      'no_requests': 'لا توجد طلبات.',
      'no_bookings': 'لا توجد حجوزات.',
      'confirm': 'تأكيد',
      'not_connected': 'غير متصل',
      'error_prefix': 'خطأ:',
      'error_not_connected': 'يجب تسجيل الدخول.',
      'error_trip_missing_data': 'خطأ: بيانات الرحلة غير متوفرة.',
      'map_connection_error': 'خطأ في اتصال الخريطة.',
      'gps_enable': 'يرجى تفعيل GPS.',
      'location_permission_denied': 'تم رفض إذن الموقع.',
      'location_permission_denied_forever': 'تم رفض إذن الموقع. فعّله من الإعدادات.',
      'location_unavailable': 'تعذر الحصول على الموقع.',
      'location_error': 'خطأ في الموقع:',
      'routing_error': 'خطأ في المسار:',
      'osrm_connection_error': 'خطأ في اتصال OSRM:',
      'trip_edit_title': 'تعديل الرحلة',
      'trip_confirm_details': 'تأكيد تفاصيل الرحلة',
      'vehicle_type': 'نوع المركبة',
      'vehicle_car': 'سيارة',
      'vehicle_moto': 'دراجة نارية',
      'trip_price': 'سعر الرحلة',
      'allowed_price': 'السعر المسموح',
      'trip_date_time': 'تاريخ ووقت الرحلة',
      'seats_count': 'عدد المقاعد',
      'save_changes': 'حفظ التعديلات',
      'trip_published_success': 'تم نشر الرحلة بنجاح!',
      'trip_modified_success': 'تم تعديل الرحلة بنجاح!',
      'propose_trip': 'اقتراح رحلة',
      'confirm_changes': 'تأكيد التعديلات',
      'confirm_departure': 'تأكيد الانطلاق',
      'departure_point': 'نقطة الانطلاق',
      'trip_to_est': 'رحلة إلى EST',
      'book_this_trip': 'حجز هذه الرحلة',
      'ride_of': 'رحلة',
      'date_unknown': 'تاريخ غير معروف',
      'date_error': 'خطأ في التاريخ',
      'no_trips_nearby': 'لا توجد رحلة تمر قرب موقعك.',
      'try_move_closer': 'حاول الاقتراب من طريق رئيسي.',
      'booking_requests': 'طلبات الحجز',
      'booking_request_sent': 'تم إرسال الطلب! تحقق من "رحلاتي".',
      'booking_already_exists': 'لقد حجزت هذه الرحلة مسبقًا.',
      'booking_invalid_data': 'بيانات الرحلة غير متوفرة.',
      'booking_error_generic': 'خطأ في الحجز.',
      'delete_ride_confirm': 'هل تريد حذف هذه الرحلة؟\nسيتم إلغاء جميع الحجوزات المرتبطة.',
      'ride_canceled_title': 'تم إلغاء الرحلة',
      'ride_canceled_body': 'ألغى السائق الرحلة',
      'ride_deleted': 'تم حذف الرحلة.',
      'accept': 'قبول',
      'reject': 'رفض',
      'error_no_seats': 'لا توجد مقاعد متاحة!',
      'error_request_processed': 'تمت معالجة الطلب مسبقًا.',
      'error_ride_not_found': 'لم يتم العثور على الرحلة.',
      'error_processing': 'خطأ في المعالجة.',
      'booking_accepted_title': 'تم قبول الحجز!',
      'booking_accepted_body': 'وافق السائق على طلبك.',
      'booking_rejected_title': 'تم رفض الحجز',
      'booking_rejected_body': 'رفض السائق طلبك.',
      'cancel_booking_confirm': 'هل تريد فعلاً إلغاء هذا الحجز؟\nسيتم إشعار السائق.',
      'cancel_request_confirm': 'هل تريد إلغاء هذا الطلب؟',
      'back_btn': 'رجوع',
      'passenger': 'راكب',
      'booking_cancel_title': 'إلغاء الحجز',
      'booking_cancel_body': 'ألغى الحجز.',
      'booking_deleted': 'تم إلغاء/حذف الحجز.',
      'confirm_booking_title': 'تأكيد الحجز',
      'confirm_booking_message': 'هل تريد إرسال طلب حجز إلى السائق؟',
      'delete_message_confirm': 'حذف هذه الرسالة للجميع؟',
      'say_hello': 'قل مرحبًا لـ',
      'write_message_hint': 'اكتب رسالة...',
      'action_impossible': 'الإجراء غير ممكن',
      'number_unavailable': 'الرقم غير متوفر',
      'new_message_title': 'رسالة جديدة',
      'user': 'مستخدم',
      'rate': 'تقييم',
      'rated': 'تم التقييم',
      'review_title': 'أضف تقييمًا',
      'review_hint': 'تعليقك (اختياري)',
      'submit_review': 'إرسال',
      'review_submitted': 'شكرًا! تم حفظ تقييمك.',
      'review_exists': 'لقد قيّمت هذه الرحلة مسبقًا.',
      'review_error': 'تعذر إرسال التقييم.',
      'no_reviews': 'لا توجد تقييمات بعد',
      'match_label': 'تطابق',
      'report_user': 'إبلاغ',
      'report_reason': 'السبب',
      'report_reason_spam': 'رسائل مزعجة',
      'report_reason_abuse': 'إساءة',
      'report_reason_fake_profile': 'حساب مزيف',
      'report_reason_other': 'سبب آخر',
      'report_details_hint': 'تفاصيل إضافية (اختياري)',
      'submit_report': 'إرسال البلاغ',
      'report_sent': 'تم إرسال البلاغ. شكرًا.',
      'block_user': 'حظر المستخدم',
      'unblock_user': 'إلغاء الحظر',
      'user_blocked_success': 'تم حظر المستخدم.',
      'user_unblocked_success': 'تم إلغاء حظر المستخدم.',
      'blocked_chat_disabled': 'الدردشة معطلة (المستخدم محظور).',
      'blocked_action_unavailable': 'الإجراء غير متاح: المستخدم محظور.',
      'view_profile': 'عرض الملف الشخصي',
      'rides_published': 'الرحلات المنشورة',
      'accepted_bookings_count': 'الحجوزات المقبولة',
      'recent_rides': 'أحدث الرحلات',
      'latest_reviews': 'أحدث التقييمات',
      'filters': 'الفلاتر',
      'clear_filters': 'إعادة التعيين',
      'filter_apply': 'تطبيق',
      'filter_all_dates': 'كل التواريخ',
      'filter_any_price': 'كل الأسعار',
      'filter_any_seats': 'كل المقاعد',
      'filter_all_status': 'كل الحالات',
      'status_label': 'الحالة',
      'filtered_empty': 'لا توجد نتائج بهذه الفلاتر.',
      'filter_invalid_price': 'سعر غير صالح.',
      'profile_photo_updated': 'تم تحديث صورة الملف الشخصي ومزامنتها!',
      'upload_error_prefix': 'خطأ في الرفع:',
      'upload_error_not_found': 'خطأ: لم يتم إنشاء الملف. تحقق من قواعد تخزين Firebase.',
      'upload_error_permission': 'خطأ: تم رفض الإذن. تحقق من قواعد التخزين.',
      'name_empty_error': 'لا يمكن أن يكون الاسم فارغًا',
      'password_min_hint': 'الحد الأدنى 6 أحرف',
      'password_min_error': 'يجب أن تتكون كلمة المرور من 6 أحرف على الأقل',
      'password_changed': 'تم تغيير كلمة المرور',
      'reauth_required': 'يرجى تسجيل الدخول مرة أخرى لتغيير كلمة المرور',
      'weak_password': 'كلمة المرور ضعيفة',
      'notification_permission_denied': 'تم رفض الإذن. تحقق من إعدادات هاتفك.',
      'enabled': 'مفعّل',
      'disabled': 'معطّل',
      'support_contact_message': 'الدعم: أرسل بريدًا إلكترونيًا إلى aitomghar26@gmail.com',
      'app_legalese': '© 2026 EST-Covoit. جميع الحقوق محفوظة.',
      'about_description': 'EST-Covoit تطبيق لمشاركة الركوب يهدف لتسهيل التنقل بين الطلبة والموظفين. شارك رحلاتك، وفّر المال، وساهم في نقل أكثر صداقة للبيئة.',
    },
  };

  static String getText(BuildContext context, String key) {
    final languageCode = _getLanguageCode(context);
    return _translations[languageCode]?[key] ?? 
           _translations['fr']?[key] ?? 
           key;
  }

  static String _getLanguageCode(BuildContext context) {
    try {
      // Use read to avoid registering inherited dependencies inside callbacks.
      final languageService = context.read<LanguageService>();
      return languageService.currentLanguage;
    } catch (e) {
      // Fallback if provider is not available
      return 'fr';
    }
  }

  static List<String> getSupportedLanguages() {
    return _translations.keys.toList();
  }

  static Map<String, String> getLanguageNames() {
    return {
      'fr': 'Français',
      'en': 'English',
      'darija': 'Darija',
      'ar': 'العربية',
    };
  }
}
