import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
import '../services/language_service.dart';

class Translations {
  static const Map<String, Map<String, String>> _translations = {
    'fr': {
      'home_title': 'Bonjour',
      'driver_card': 'Je suis Conducteur',
      'driver_subtitle': 'Publier un trajet, partager les frais.',
      'passenger_card': 'Je suis Passager',
      'passenger_subtitle': 'Trouver un trajet vers l\'EST.',
      'settings_title': 'Paramètres',
      'dark_mode': 'Mode Sombre',
      'language': 'Langue',
      'logout': 'Se déconnecter',
      'logout_confirm': 'Voulez-vous vraiment se déconnecter ?',
      'logout_btn': 'Déconnecter',
      'cancel_btn': 'Annuler',
      'search_btn': 'Chercher',
      'edit_profile': 'Modifier mon profil',
      'notifications': 'Notifications',
      'contact_support': 'Contacter le support',
      'about': 'À propos',
      'general_section': 'Général',
      'appearance_section': 'Apparence',
      'profile_section': 'Profil',
      'support_section': 'Support',
      'confirm_journey': 'Confirmer le trajet',
      'publish_journey': 'Publier le trajet',
      'available_trips': 'Trajets Disponibles',
      'no_trips': 'Aucun trajet disponible pour le moment.',
      'save': 'Enregistrer',
      'name_field': 'Nom',
      'email_field': 'Email',
      'phone_field': 'Téléphone',
      'change_password': 'Changer mot de passe',
      'success': 'Succès',
      'profile': 'Mon Profil',
      'profile_updated': 'Profil mis à jour',
      'login_btn': 'Se Connecter',
      'email_hint': 'Email',
      'password_hint': 'Mot de passe',
      'register_link': 'Créer un compte',
      'my_activities': 'Mes Activités',
      'my_ads': 'Mes Annonces',
      'my_bookings': 'Mes Réservations',
      'edit': 'Modifier',
      'delete': 'Supprimer',
      'requests': 'Demandes',
      'cancel': 'Annuler',
      'discuss': 'Discuter',
      'accepted': 'Accepté',
      'rejected': 'Refusé',
      'pending': 'En attente',
      'departure': 'Départ',
      'arrival': 'Arrivée',
      'seats_available': 'P. Disp.',
      'full': 'COMPLET',
      'book': 'Réserver',
      'map_view': 'Voir Carte',
      'driver': 'Chauffeur',
      'unknown': 'Inconnu',
      'date': 'Date',
      'price': 'Prix',
      'seats': 'Places',
      'confirm_delete': 'Supprimer ?',
      'confirm_delete_msg': 'Voulez-vous vraiment supprimer ?',
      'no_requests': 'Aucune demande.',
      'no_bookings': 'Aucune réservation.',
      'confirm': 'Confirmer',
    },
    'en': {
      'home_title': 'Hello',
      'driver_card': 'I am a Driver',
      'driver_subtitle': 'Publish a trip, share costs.',
      'passenger_card': 'I am a Passenger',
      'passenger_subtitle': 'Find a trip to EST.',
      'settings_title': 'Settings',
      'dark_mode': 'Dark Mode',
      'language': 'Language',
      'logout': 'Logout',
      'logout_confirm': 'Are you sure you want to logout?',
      'logout_btn': 'Logout',
      'cancel_btn': 'Cancel',
      'search_btn': 'Search',
      'edit_profile': 'Edit my profile',
      'notifications': 'Notifications',
      'contact_support': 'Contact Support',
      'about': 'About',
      'general_section': 'General',
      'appearance_section': 'Appearance',
      'profile_section': 'Profile',
      'support_section': 'Support',
      'confirm_journey': 'Confirm Journey',
      'publish_journey': 'Publish Journey',
      'available_trips': 'Available Trips',
      'no_trips': 'No trips available at the moment.',
      'save': 'Save',
      'name_field': 'Name',
      'email_field': 'Email',
      'phone_field': 'Phone',
      'change_password': 'Change Password',
      'success': 'Success',
      'profile': 'My Profile',
      'profile_updated': 'Profile Updated',
      'password_field': 'Password',
      'login_btn': 'Login',
      'email_hint': 'Email',
      'password_hint': 'Password',
      'register_link': 'Create Account',
      'my_activities': 'My Activities',
      'my_ads': 'My Ads',
      'my_bookings': 'My Bookings',
      'edit': 'Edit',
      'delete': 'Delete',
      'requests': 'Requests',
      'cancel': 'Cancel',
      'discuss': 'Chat',
      'accepted': 'Accepted',
      'rejected': 'Rejected',
      'pending': 'Pending',
      'departure': 'Departure',
      'arrival': 'Arrival',
      'seats_available': 'Avail.',
      'full': 'FULL',
      'book': 'Book',
      'map_view': 'View Map',
      'driver': 'Driver',
      'unknown': 'Unknown',
      'date': 'Date',
      'price': 'Price',
      'seats': 'Seats',
      'confirm_delete': 'Delete?',
      'confirm_delete_msg': 'Are you sure?',
      'no_requests': 'No requests.',
      'no_bookings': 'No bookings.',
      'confirm': 'Confirm',
    },
    'darija': {
      'home_title': 'Ahlan',
      'driver_card': 'Ana Chiffour',
      'driver_subtitle': '3ndek tonobil? Partagi tri9.',
      'passenger_card': 'Ana Rakib',
      'passenger_subtitle': 'L9a transport l l\'EST.',
      'settings_title': 'Paramètres',
      'dark_mode': 'Mode K7el',
      'language': 'Logha',
      'logout': 'Khrouj',
      'logout_confirm': 'Baghi tkhrej?',
      'logout_btn': 'Khrouj',
      'cancel_btn': 'Rje3',
      'search_btn': '9elleb',
      'edit_profile': 'Beddel profil',
      'notifications': 'Notifs',
      'contact_support': 'Hder m3ana',
      'about': 'A propos',
      'general_section': 'Général',
      'appearance_section': 'Chkel',
      'profile_section': 'Profil',
      'support_section': 'Support',
      'confirm_journey': 'Confirmi Trajet',
      'publish_journey': 'Lou7 Trajet',
      'available_trips': 'Trajets 3la lah',
      'no_trips': 'Ma kayn walo db.',
      'save': 'Sjel',
      'name_field': 'Semya',
      'email_field': 'Email',
      'phone_field': 'Nemra',
      'change_password': 'Beddel l-code',
      'success': 'Nadi',
      'profile': 'Profil Dyali',
      'profile_updated': 'T\'mjoura Profil',
      'password_field': 'Mot de passe',
      'login_btn': 'Dkhol',
      'email_hint': 'Email',
      'password_hint': 'Mot de passe',
      'register_link': 'Sayeb Compte',
      'my_activities': 'Activités Dyali',
      'my_ads': 'Anciat Dyali',
      'my_bookings': 'Reservationat',
      'edit': 'Beddel',
      'delete': 'Mse7',
      'requests': 'Talabat',
      'cancel': 'Annuler',
      'discuss': 'Chat',
      'accepted': 'Ma9boul',
      'rejected': 'Merfoud',
      'pending': 'Kitsena',
      'departure': 'Depart',
      'arrival': 'Woussoul',
      'seats_available': 'Blayss',
      'full': '3AMER',
      'book': 'Reserver',
      'map_view': 'Carte',
      'driver': 'Chiffour',
      'unknown': 'Ma3roufch',
      'date': 'Tarikh',
      'price': 'Taman',
      'seats': 'Blayess',
      'confirm_delete': 'Mse7?',
      'confirm_delete_msg': 'Wach bsse7 baghi tmes7o?',
      'no_requests': 'Walo talabat.',
      'no_bookings': 'Walo reservation.',
      'confirm': 'Confirmer',
    },
    'ar': {
      'home_title': 'مرحبا',
      'driver_card': 'أنا سائق',
      'driver_subtitle': 'انشر رحلة، شارك التكاليف.',
      'passenger_card': 'أنا راكب',
      'passenger_subtitle': 'ابحث عن رحلة إلى EST.',
      'settings_title': 'الإعدادات',
      'dark_mode': 'الوضع المظلم',
      'language': 'اللغة',
      'logout': 'تسجيل الخروج',
      'logout_confirm': 'هل أنت متأكد أنك تريد تسجيل الخروج؟',
      'logout_btn': 'خروج',
      'cancel_btn': 'إلغاء',
      'search_btn': 'بحث',
      'edit_profile': 'تعديل الملف الشخصي',
      'notifications': 'الإشعارات',
      'contact_support': 'اتصل بالدعم',
      'about': 'حول التطبيق',
      'general_section': 'عام',
      'appearance_section': 'المظهر',
      'profile_section': 'الملف الشخصي',
      'support_section': 'الدعم والمساعدة',
      'confirm_journey': 'تأكيد الرحلة',
      'publish_journey': 'نشر الرحلة',
      'available_trips': 'الرحلات المتاحة',
      'no_trips': 'لا توجد رحلات متاحة حالياً.',
      'save': 'حفظ',
      'name_field': 'الاسم',
      'email_field': 'البريد الإلكتروني',
      'phone_field': 'الهاتف',
      'change_password': 'تغيير كلمة المرور',
      'success': 'تم بنجاح',
      'profile': 'ملفي الشخصي',
      'profile_updated': 'تم تحديث الملف الشخصي',
      'password_field': 'كلمة المرور',
      'login_btn': 'تسجيل الدخول',
      'email_hint': 'البريد الإلكتروني',
      'password_hint': 'كلمة المرور',
      'register_link': 'إنشاء حساب جديد',
      'my_activities': 'نشاطاتي',
      'my_ads': 'إعلاناتي',
      'my_bookings': 'حجوزاتي',
      'edit': 'تعديل',
      'delete': 'حذف',
      'requests': 'الطلبات',
      'cancel': 'إلغاء',
      'discuss': 'دردشة',
      'accepted': 'مقبول',
      'rejected': 'مرفوض',
      'pending': 'قيد الانتظار',
      'departure': 'الانطلاق',
      'arrival': 'الوصول',
      'seats_available': 'مقاعد',
      'full': 'ممتلئ',
      'book': 'حجز',
      'map_view': 'الخريطة',
      'driver': 'السائق',
      'unknown': 'مجهول',
      'date': 'التاريخ',
      'price': 'السعر',
      'seats': 'المقاعد',
      'confirm_delete': 'تأكيد الحذف؟',
      'confirm_delete_msg': 'هل أنت متأكد من الحذف؟',
      'no_requests': 'لا توجد طلبات.',
      'no_bookings': 'لا توجد حجوزات.',
      'confirm': 'تأكيد',
    },
  };

  static String getText(BuildContext context, String key) {
    final languageCode = _getLanguageCode(context);
    return _translations[languageCode]?[key] ?? 
           _translations['fr']?[key] ?? 
           key;
  }

  static String _getLanguageCode(BuildContext context) {
    try {
      final languageService = context.watch<LanguageService>();
      return languageService.currentLanguage;
    } catch (e) {
      // Fallback if provider is not available
      return 'fr';
    }
  }

  static List<String> getSupportedLanguages() {
    return _translations.keys.toList();
  }

  static Map<String, String> getLanguageNames() {
    return {
      'fr': 'Français',
      'en': 'English',
      'darija': 'Darija',
      'ar': 'العربية',
    };
  }
}
